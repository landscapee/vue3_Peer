/*! Qin Xiao */
(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{192:function(e,t){},388:function(e,t){},389:function(e,t){},441:function(e,t,o){"use strict";o(192)},602:function(e,t,o){"use strict";o.r(t);var n=o(0);const c={id:"app"},s=(e=>(Object(n.pushScopeId)("data-v-d64be03e"),e=e(),Object(n.popScopeId)(),e))(()=>Object(n.createElementVNode)("img",{src:"/static/icons/position.svg",alt:""},null,-1)),i={key:0},a={key:1},d=Object(n.createTextVNode)(" asdasd "),r={ref:"video",style:{height:"200px"}};var l=o(42),p=o.n(l),u=(l=o(72),o.n(l)),b=(l=o(41),o.n(l)),v=(l={name:"App",data:()=>({socket:null,peer1:null,peer2:null}),components:{},methods:{send(){this.peer2.signal({candidate:{candidate:"candidate:2908979170 1 udp 2122129151 192.168.3.23…eration 0 ufrag GQmi network-id 2 network-cost 10",sdpMLineIndex:0,sdpMid:"0"},type:"candidate"})},open(){const e=new WebSocket("ws://localhost:3000");(this.socket=e).addEventListener("open",e=>{this.openMedia()}),e.addEventListener("close",(function(e){console.log("close ",e)})),e.addEventListener("error",(function(e){console.log("error ",e)})),addEventListener("beforeunload",t=>{e.close()})},close(){this.socket&&this.socket.close()},closeMedia(){this.peer1.removeStream()},startMedia(){this.peer1.addStream(this.stream)},openMedia(){const e=new WebSocket("ws://192.168.0.85:3000");e.addEventListener("open",(function(e){})),e.addEventListener("close",(function(e){console.log("close ",e)})),e.addEventListener("error",(function(e){console.log("error ",e)})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{try{let o=new b.a({initiator:!0,stream:t});e.addEventListener("message",(function(e){o.signal(JSON.parse(e.data))})),o.on("signal",(function(t){e.send(p()(t))}))}catch(t){console.log(t)}})},play(e){console.log("play",e);var t=document.querySelector("video");"srcObject"in t?t.srcObject=e:t.src=u.a.createObjectURL(e),t.play()}},mounted(){},beforeUnmount(){this.socket&&this.socket.close(),this.peer1.destroy(),this.peer2.destroy()}},o(441),o(26));o=o.n(v);t.default=o()(l,[["render",function(e,t,o,l,p,u){var b=Object(n.resolveComponent)("router-view");return Object(n.openBlock)(),Object(n.createElementBlock)("div",c,[s,Object(n.createTextVNode)(" "+Object(n.toDisplayString)(e.$route.path)+" ",1),Object(n.createElementVNode)("div",{onClick:t[0]||(t[0]=(...e)=>u.openMedia&&u.openMedia(...e))},"openMedia"),"/"!=e.$route.path?(Object(n.openBlock)(),Object(n.createElementBlock)("div",i,[Object(n.createVNode)(b)])):(Object(n.openBlock)(),Object(n.createElementBlock)("div",a,[d,Object(n.createElementVNode)("div",{onClick:t[1]||(t[1]=(...e)=>u.open&&u.open(...e))},"open"),Object(n.createElementVNode)("div",{onClick:t[2]||(t[2]=(...e)=>u.send&&u.send(...e))},"发送"),Object(n.createElementVNode)("div",{onClick:t[3]||(t[3]=(...e)=>u.close&&u.close(...e))},"close"),Object(n.createElementVNode)("div",{onClick:t[4]||(t[4]=(...e)=>u.closeMedia&&u.closeMedia(...e))},"closeMedia"),Object(n.createVNode)(b)])),Object(n.createElementVNode)("video",r,null,512)])}],["__scopeId","data-v-d64be03e"]])}}]);